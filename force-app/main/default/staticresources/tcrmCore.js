/*! For license information please see tcrmCore.js.LICENSE.txt */
(()=>{var e={138:e=>{var t=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(e){t=function(){}}try{r=Set}catch(e){r=function(){}}try{n=Promise}catch(e){n=function(){}}function a(o,s,u,h,c){"object"==typeof s&&(u=s.depth,h=s.prototype,c=s.includeNonEnumerable,s=s.circular);var p=[],f=[],l="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===u&&(u=1/0),function o(u,m){if(null===u)return null;if(0===m)return u;var d,v;if("object"!=typeof u)return u;if(e(u,t))d=new t;else if(e(u,r))d=new r;else if(e(u,n))d=new n((function(e,t){u.then((function(t){e(o(t,m-1))}),(function(e){t(o(e,m-1))}))}));else if(a.__isArray(u))d=[];else if(a.__isRegExp(u))d=new RegExp(u.source,i(u)),u.lastIndex&&(d.lastIndex=u.lastIndex);else if(a.__isDate(u))d=new Date(u.getTime());else{if(l&&Buffer.isBuffer(u))return d=Buffer.allocUnsafe?Buffer.allocUnsafe(u.length):new Buffer(u.length),u.copy(d),d;e(u,Error)?d=Object.create(u):void 0===h?(v=Object.getPrototypeOf(u),d=Object.create(v)):(d=Object.create(h),v=h)}if(s){var y=p.indexOf(u);if(-1!=y)return f[y];p.push(u),f.push(d)}for(var g in e(u,t)&&u.forEach((function(e,t){var r=o(t,m-1),n=o(e,m-1);d.set(r,n)})),e(u,r)&&u.forEach((function(e){var t=o(e,m-1);d.add(t)})),u){var b;v&&(b=Object.getOwnPropertyDescriptor(v,g)),b&&null==b.set||(d[g]=o(u[g],m-1))}if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(u);for(g=0;g<w.length;g++){var A=w[g];(!(E=Object.getOwnPropertyDescriptor(u,A))||E.enumerable||c)&&(d[A]=o(u[A],m-1),E.enumerable||Object.defineProperty(d,A,{enumerable:!1}))}}if(c){var O=Object.getOwnPropertyNames(u);for(g=0;g<O.length;g++){var E,x=O[g];(E=Object.getOwnPropertyDescriptor(u,x))&&E.enumerable||(d[x]=o(u[x],m-1),Object.defineProperty(d,x,{enumerable:!1}))}}return d}(o,u)}function o(e){return Object.prototype.toString.call(e)}function i(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return a.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},a.__objToStr=o,a.__isDate=function(e){return"object"==typeof e&&"[object Date]"===o(e)},a.__isArray=function(e){return"object"==typeof e&&"[object Array]"===o(e)},a.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===o(e)},a.__getRegExpFlags=i,a}();e.exports&&(e.exports=t)},412:(e,t,r)=>{"use strict";var n=r(484),a=n.ValidatorResult,o=n.SchemaError,i={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},s=i.validators={};function u(e,t,r,n,a){var o=t.throwError,i=t.throwAll;t.throwError=!1,t.throwAll=!1;var s=this.validateSchema(e,a,t,r);return t.throwError=o,t.throwAll=i,!s.valid&&n instanceof Function&&n(s),s.valid}function h(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function c(e,t,r,n,a,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[a]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:a,message:"is not allowed to have the additional property "+JSON.stringify(a)});else{var i=t.additionalProperties||{};"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,a,i,r,n);var s=this.validateSchema(e[a],i,r,n.makeChild(i,a));s.instance!==o.instance[a]&&(o.instance[a]=s.instance),o.importErrors(s)}}s.type=function(e,t,r,n){if(void 0===e)return null;var o=new a(e,t,r,n),i=Array.isArray(t.type)?t.type:[t.type];if(!i.some(this.testType.bind(this,e,t,r,n))){var s=i.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));o.addError({name:"type",argument:s,message:"is not of a type(s) "+s})}return o},s.anyOf=function(e,t,r,n){if(void 0===e)return null;var i=new a(e,t,r,n),s=new a(e,t,r,n);if(!Array.isArray(t.anyOf))throw new o("anyOf must be an array");if(!t.anyOf.some(u.bind(this,e,r,n,(function(e){s.importErrors(e)})))){var h=t.anyOf.map((function(e,t){var r=e.$id||e.id;return r?"<"+r+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));r.nestedErrors&&i.importErrors(s),i.addError({name:"anyOf",argument:h,message:"is not any of "+h.join(",")})}return i},s.allOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new o("allOf must be an array");var i=new a(e,t,r,n),s=this;return t.allOf.forEach((function(t,a){var o=s.validateSchema(e,t,r,n);if(!o.valid){var u=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+a+"]";i.addError({name:"allOf",argument:{id:u,length:o.errors.length,valid:o},message:"does not match allOf schema "+u+" with "+o.errors.length+" error[s]:"}),i.importErrors(o)}})),i},s.oneOf=function(e,t,r,n){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new o("oneOf must be an array");var i=new a(e,t,r,n),s=new a(e,t,r,n),h=t.oneOf.filter(u.bind(this,e,r,n,(function(e){s.importErrors(e)}))).length,c=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==h&&(r.nestedErrors&&i.importErrors(s),i.addError({name:"oneOf",argument:c,message:"is not exactly one from "+c.join(",")})),i},s.if=function(e,t,r,o){if(void 0===e)return null;if(!n.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var i,s=u.call(this,e,r,o,null,t.if),h=new a(e,t,r,o);if(s){if(void 0===t.then)return;if(!n.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');i=this.validateSchema(e,t.then,r,o.makeChild(t.then)),h.importErrors(i)}else{if(void 0===t.else)return;if(!n.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');i=this.validateSchema(e,t.else,r,o.makeChild(t.else)),h.importErrors(i)}return h},s.propertyNames=function(e,t,r,i){if(this.types.object(e)){var s=new a(e,t,r,i),u=void 0!==t.propertyNames?t.propertyNames:{};if(!n.isSchema(u))throw new o('Expected "propertyNames" to be a schema (object or boolean)');for(var c in e)if(void 0!==h(e,c)){var p=this.validateSchema(c,u,r,i.makeChild(u));s.importErrors(p)}return s}},s.properties=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n),s=t.properties||{};for(var u in s){var c=s[u];if(void 0!==c){if(null===c)throw new o('Unexpected null, expected schema in "properties"');"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,u,c,r,n);var p=h(e,u),f=this.validateSchema(p,c,r,n.makeChild(c,u));f.instance!==i.instance[u]&&(i.instance[u]=f.instance),i.importErrors(f)}}return i}},s.patternProperties=function(e,t,r,n){if(this.types.object(e)){var i=new a(e,t,r,n),s=t.patternProperties||{};for(var u in e){var h=!0;for(var p in s){var f=s[p];if(void 0!==f){if(null===f)throw new o('Unexpected null, expected schema in "patternProperties"');try{var l=new RegExp(p,"u")}catch(e){l=new RegExp(p)}if(l.test(u)){h=!1,"function"==typeof r.preValidateProperty&&r.preValidateProperty(e,u,f,r,n);var m=this.validateSchema(e[u],f,r,n.makeChild(f,u));m.instance!==i.instance[u]&&(i.instance[u]=m.instance),i.importErrors(m)}}}h&&c.call(this,e,t,r,n,u,i)}return i}},s.additionalProperties=function(e,t,r,n){if(this.types.object(e)){if(t.patternProperties)return null;var o=new a(e,t,r,n);for(var i in e)c.call(this,e,t,r,n,i,o);return o}},s.minProperties=function(e,t,r,n){if(this.types.object(e)){var o=new a(e,t,r,n);return Object.keys(e).length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}},s.maxProperties=function(e,t,r,n){if(this.types.object(e)){var o=new a(e,t,r,n);return Object.keys(e).length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}},s.items=function(e,t,r,n){var o=this;if(this.types.array(e)&&t.items){var i=new a(e,t,r,n);return e.every((function(e,a){var s=Array.isArray(t.items)?t.items[a]||t.additionalItems:t.items;if(void 0===s)return!0;if(!1===s)return i.addError({name:"items",message:"additionalItems not permitted"}),!1;var u=o.validateSchema(e,s,r,n.makeChild(s,a));return u.instance!==i.instance[a]&&(i.instance[a]=u.instance),i.importErrors(u),!0})),i}},s.minimum=function(e,t,r,n){if(this.types.number(e)){var o=new a(e,t,r,n);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}},s.maximum=function(e,t,r,n){if(this.types.number(e)){var o=new a(e,t,r,n);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}},s.exclusiveMinimum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var o=new a(e,t,r,n);return e>t.exclusiveMinimum||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}},s.exclusiveMaximum=function(e,t,r,n){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var o=new a(e,t,r,n);return e<t.exclusiveMaximum||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var p=function(e,t,r,i,s,u){if(this.types.number(e)){var h=t[s];if(0==h)throw new o(s+" cannot be zero");var c=new a(e,t,r,i),p=n.getDecimalPlaces(e),f=n.getDecimalPlaces(h),l=Math.max(p,f),m=Math.pow(10,l);return Math.round(e*m)%Math.round(h*m)!=0&&c.addError({name:s,argument:h,message:u+JSON.stringify(h)}),c}};function f(e,t,r){var a,o=r.length;for(a=t+1;a<o;a++)if(n.deepCompareStrict(e,r[a]))return!1;return!0}s.multipleOf=function(e,t,r,n){return p.call(this,e,t,r,n,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,t,r,n){return p.call(this,e,t,r,n,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,t,r,n){var o=new a(e,t,r,n);return void 0===e&&!0===t.required?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===h(e,t)&&o.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),o},s.pattern=function(e,t,r,n){if(this.types.string(e)){var o=new a(e,t,r,n),i=t.pattern;try{var s=new RegExp(i,"u")}catch(e){s=new RegExp(i)}return e.match(s)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}},s.format=function(e,t,r,o){if(void 0!==e){var i=new a(e,t,r,o);return i.disableFormat||n.isFormat(e,t.format,this)||i.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),i}},s.minLength=function(e,t,r,n){if(this.types.string(e)){var o=new a(e,t,r,n),i=e.match(/[\uDC00-\uDFFF]/g);return e.length-(i?i.length:0)>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}},s.maxLength=function(e,t,r,n){if(this.types.string(e)){var o=new a(e,t,r,n),i=e.match(/[\uDC00-\uDFFF]/g);return e.length-(i?i.length:0)<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}},s.minItems=function(e,t,r,n){if(this.types.array(e)){var o=new a(e,t,r,n);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}},s.maxItems=function(e,t,r,n){if(this.types.array(e)){var o=new a(e,t,r,n);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}},s.uniqueItems=function(e,t,r,n){if(!0===t.uniqueItems&&this.types.array(e)){var o=new a(e,t,r,n);return e.every(f)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},s.dependencies=function(e,t,r,n){if(this.types.object(e)){var o=new a(e,t,r,n);for(var i in t.dependencies)if(void 0!==e[i]){var s=t.dependencies[i],u=n.makeChild(s,i);if("string"==typeof s&&(s=[s]),Array.isArray(s))s.forEach((function(t){void 0===e[t]&&o.addError({name:"dependencies",argument:u.propertyPath,message:"property "+t+" not found, required by "+u.propertyPath})}));else{var h=this.validateSchema(e,s,r,u);o.instance!==h.instance&&(o.instance=h.instance),h&&h.errors.length&&(o.addError({name:"dependencies",argument:u.propertyPath,message:"does not meet dependency required by "+u.propertyPath}),o.importErrors(h))}}return o}},s.enum=function(e,t,r,i){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new o("enum expects an array",t);var s=new a(e,t,r,i);return t.enum.some(n.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),s},s.const=function(e,t,r,o){if(void 0===e)return null;var i=new a(e,t,r,o);return n.deepCompareStrict(t.const,e)||i.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),i},s.not=s.disallow=function(e,t,r,n){var o=this;if(void 0===e)return null;var i=new a(e,t,r,n),s=t.not||t.disallow;return s?(Array.isArray(s)||(s=[s]),s.forEach((function(a){if(o.testType(e,t,r,n,a)){var s=a&&(a.$id||a.id)||a;i.addError({name:"not",argument:s,message:"is of prohibited type "+s})}})),i):null},e.exports=i},484:(e,t,r)=>{"use strict";var n=r(883),a=t.ValidationError=function(e,t,r,n,a,o){if(Array.isArray(n)?(this.path=n,this.property=n.reduce((function(e,t){return e+p(t)}),"instance")):void 0!==n&&(this.property=n),e&&(this.message=e),r){var i=r.$id||r.id;this.schema=i||r}void 0!==t&&(this.instance=t),this.name=a,this.argument=o,this.stack=this.toString()};a.prototype.toString=function(){return this.property+" "+this.message};var o=t.ValidatorResult=function(e,t,r,n){this.instance=e,this.schema=t,this.options=r,this.path=n.path,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=r&&r.throwError,this.throwFirst=r&&r.throwFirst,this.throwAll=r&&r.throwAll,this.disableFormat=r&&!0===r.disableFormat};function i(e,t){return t+": "+e.toString()+"\n"}function s(e){Error.captureStackTrace&&Error.captureStackTrace(this,s),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}o.prototype.addError=function(e){var t;if("string"==typeof e)t=new a(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new a(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new s(this);if(this.throwError)throw t;return t},o.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},o.prototype.toString=function(e){return this.errors.map(i).join("")},Object.defineProperty(o.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=s,s.prototype=new Error,s.prototype.constructor=s,s.prototype.name="Validation Error";var u=t.SchemaError=function e(t,r){this.message=t,this.schema=r,Error.call(this,t),Error.captureStackTrace(this,e)};u.prototype=Object.create(Error.prototype,{constructor:{value:u,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var h=t.SchemaContext=function(e,t,r,n,a){this.schema=e,this.options=t,Array.isArray(r)?(this.path=r,this.propertyPath=r.reduce((function(e,t){return e+p(t)}),"instance")):this.propertyPath=r,this.base=n,this.schemas=a};h.prototype.resolve=function(e){return n.resolve(this.base,e)},h.prototype.makeChild=function(e,t){var r=void 0===t?this.path:this.path.concat([t]),a=e.$id||e.id,o=n.resolve(this.base,a||""),i=new h(e,this.options,r,o,Object.create(this.schemas));return a&&!i.schemas[o]&&(i.schemas[o]=e),i};var c=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};c.regexp=c.regex,c.pattern=c.regex,c.ipv4=c["ip-address"],t.isFormat=function(e,t,r){if("string"==typeof e&&void 0!==c[t]){if(c[t]instanceof RegExp)return c[t].test(e);if("function"==typeof c[t])return c[t](e)}else if(r&&r.customFormats&&"function"==typeof r.customFormats[t])return r.customFormats[t](e);return!0};var p=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function f(e,t,r,n){"object"==typeof r?t[n]=d(e[n],r):-1===e.indexOf(r)&&t.push(r)}function l(e,t,r){t[r]=e[r]}function m(e,t,r,n){"object"==typeof t[n]&&t[n]&&e[n]?r[n]=d(e[n],t[n]):r[n]=t[n]}function d(e,t){var r=Array.isArray(t),n=r&&[]||{};return r?(e=e||[],n=n.concat(e),t.forEach(f.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(l.bind(null,e,n)),Object.keys(t).forEach(m.bind(null,e,t,n))),n}function v(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,r){if(typeof t!=typeof r)return!1;if(Array.isArray(t))return!!Array.isArray(r)&&t.length===r.length&&t.every((function(n,a){return e(t[a],r[a])}));if("object"==typeof t){if(!t||!r)return t===r;var n=Object.keys(t),a=Object.keys(r);return n.length===a.length&&n.every((function(n){return e(t[n],r[n])}))}return t===r},e.exports.deepMerge=d,t.objectGetPath=function(e,t){for(var r,n=t.split("/").slice(1);"string"==typeof(r=n.shift());){var a=decodeURIComponent(r.replace(/~0/,"~").replace(/~1/g,"/"));if(!(a in e))return;e=e[a]}return e},t.encodePath=function(e){return e.map(v).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var r=e.toString().split("e");if(2===r.length){if("-"!==r[1][0])return t;t=Number(r[1].slice(1))}var n=r[0].split(".");return 2===n.length&&(t+=n[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},663:(e,t,r)=>{"use strict";e.exports.Validator=r(852);r(484).ValidatorResult,r(484).ValidatorResultError,r(484).ValidationError,r(484).SchemaError,r(456),r(456).R},456:(e,t,r)=>{"use strict";var n=r(883),a=r(484);function o(e,t){this.id=e,this.ref=t}e.exports.R=function(e,t){function r(e,t){if(t&&"object"==typeof t)if(t.$ref){var o=n.resolve(e,t.$ref);h[o]=h[o]?h[o]+1:0}else{var c=t.$id||t.id,p=c?n.resolve(e,c):e;if(p){if(p.indexOf("#")<0&&(p+="#"),u[p]){if(!a.deepCompareStrict(u[p],t))throw new Error("Schema <"+p+"> already exists with different definition");return u[p]}u[p]=t,"#"==p[p.length-1]&&(u[p.substring(0,p.length-1)]=t)}i(p+"/items",Array.isArray(t.items)?t.items:[t.items]),i(p+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),r(p+"/additionalItems",t.additionalItems),s(p+"/properties",t.properties),r(p+"/additionalProperties",t.additionalProperties),s(p+"/definitions",t.definitions),s(p+"/patternProperties",t.patternProperties),s(p+"/dependencies",t.dependencies),i(p+"/disallow",t.disallow),i(p+"/allOf",t.allOf),i(p+"/anyOf",t.anyOf),i(p+"/oneOf",t.oneOf),r(p+"/not",t.not)}}function i(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)r(e+"/"+n,t[n])}function s(e,t){if(t&&"object"==typeof t)for(var n in t)r(e+"/"+n,t[n])}var u={},h={};return r(e,t),new o(u,h)}},852:(e,t,r)=>{"use strict";var n=r(883),a=r(412),o=r(484),i=r(456).R,s=o.ValidatorResult,u=o.ValidatorResultError,h=o.SchemaError,c=o.SchemaContext,p=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(l),this.attributes=Object.create(a.validators)};function f(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}p.prototype.customFormats={},p.prototype.schemas=null,p.prototype.types=null,p.prototype.attributes=null,p.prototype.unresolvedRefs=null,p.prototype.addSchema=function(e,t){var r=this;if(!e)return null;var n=i(t||"/",e),a=t||e.$id||e.id;for(var o in n.id)this.schemas[o]=n.id[o];for(var o in n.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===r.schemas[e]})),this.schemas[a]},p.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var r=0;r<t.length;r++)this.addSubSchema(e,t[r])},p.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var r in t)this.addSubSchema(e,t[r])},p.prototype.setSchemas=function(e){this.schemas=e},p.prototype.getSchema=function(e){return this.schemas[e]},p.prototype.validate=function(e,t,r,a){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new h("Expected `schema` to be an object or boolean");r||(r={});var o,p=t.$id||t.id,f=n.resolve(r.base||"/",p||"");if(!a){(a=new c(t,r,[],f,Object.create(this.schemas))).schemas[f]||(a.schemas[f]=t);var l=i(f,t);for(var m in l.id){var d=l.id[m];a.schemas[m]=d}}if(r.required&&void 0===e)return(o=new s(e,t,r,a)).addError("is required, but is undefined"),o;if(!(o=this.validateSchema(e,t,r,a)))throw new Error("Result undefined");if(r.throwAll&&o.errors.length)throw new u(o);return o},p.prototype.validateSchema=function(e,t,r,n){var i=new s(e,t,r,n);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var u={schema:t,ctx:n};t.extends.forEach(this.schemaTraverser.bind(this,u)),t=u.schema,u.schema=null,u.ctx=null,u=null}else t=o.deepMerge(t,this.superResolve(t.extends,n));var p=f(t);if(p){var l=this.resolve(t,p,n),m=new c(l.subschema,r,n.path,l.switchSchema,n.schemas);return this.validateSchema(e,l.subschema,r,m)}var d=r&&r.skipAttributes||[];for(var v in t)if(!a.ignoreProperties[v]&&d.indexOf(v)<0){var y=null,g=this.attributes[v];if(g)y=g.call(this,e,t,r,n);else if(!1===r.allowUnknownAttributes)throw new h("Unsupported attribute: "+v,t);y&&i.importErrors(y)}if("function"==typeof r.rewrite){var b=r.rewrite.call(this,e,t,r,n);i.instance=b}return i},p.prototype.schemaTraverser=function(e,t){e.schema=o.deepMerge(e.schema,this.superResolve(t,e.ctx))},p.prototype.superResolve=function(e,t){var r=f(e);return r?this.resolve(e,r,t).subschema:e},p.prototype.resolve=function(e,t,r){if(t=r.resolve(t),r.schemas[t])return{subschema:r.schemas[t],switchSchema:t};var a=n.parse(t),i=a&&a.hash,s=i&&i.length&&t.substr(0,t.length-i.length);if(!s||!r.schemas[s])throw new h("no such schema <"+t+">",e);var u=o.objectGetPath(r.schemas[s],i.substr(1));if(void 0===u)throw new h("no such schema "+i+" located in <"+s+">",e);return{subschema:u,switchSchema:t}},p.prototype.testType=function(e,t,r,n,a){if(void 0!==a){if(null===a)throw new h('Unexpected null in "type" keyword');if("function"==typeof this.types[a])return this.types[a].call(this,e);if(a&&"object"==typeof a){var o=this.validateSchema(e,a,r,n);return void 0===o||!(o&&o.errors.length)}return!0}};var l=p.prototype.types={};l.string=function(e){return"string"==typeof e},l.number=function(e){return"number"==typeof e&&isFinite(e)},l.integer=function(e){return"number"==typeof e&&e%1==0},l.boolean=function(e){return"boolean"==typeof e},l.array=function(e){return Array.isArray(e)},l.null=function(e){return null===e},l.date=function(e){return e instanceof Date},l.any=function(e){return!0},l.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=p},808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,a){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var i=/\+/g;e=e.split(r);var s=1e3;a&&"number"==typeof a.maxKeys&&(s=a.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var h=0;h<u;++h){var c,p,f,l,m=e[h].replace(i,"%20"),d=m.indexOf(n);d>=0?(c=m.substr(0,d),p=m.substr(d+1)):(c=m,p=""),f=decodeURIComponent(c),l=decodeURIComponent(p),t(o,f)?Array.isArray(o[f])?o[f].push(l):o[f]=[o[f],l]:o[f]=l}return o}},368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,a){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(t(a))+n;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(t(e))})).join(r):o+encodeURIComponent(t(e[a]))})).join(r):a?encodeURIComponent(t(a))+n+encodeURIComponent(t(e)):""}},642:(e,t,r)=>{"use strict";t.decode=t.parse=r(808),t.encode=t.stringify=r(368)},639:function(e,t,r){var n;e=r.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r.g&&r.g;o.global!==o&&o.window!==o&&o.self;var i,s=2147483647,u=36,h=/^xn--/,c=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,m=String.fromCharCode;function d(e){throw RangeError(f[e])}function v(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+v((e=e.replace(p,".")).split("."),t).join(".")}function g(e){for(var t,r,n=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(r=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),a--):n.push(t);return n}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+m(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,r){var n=0;for(e=r?l(e/700):e>>1,e+=l(e/t);e>455;n+=u)e=l(e/35);return l(n+36*e/(e+38))}function O(e){var t,r,n,a,o,i,h,c,p,f,m,v=[],y=e.length,g=0,w=128,O=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&d("not-basic"),v.push(e.charCodeAt(n));for(a=r>0?r+1:0;a<y;){for(o=g,i=1,h=u;a>=y&&d("invalid-input"),((c=(m=e.charCodeAt(a++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||c>l((s-g)/i))&&d("overflow"),g+=c*i,!(c<(p=h<=O?1:h>=O+26?26:h-O));h+=u)i>l(s/(f=u-p))&&d("overflow"),i*=f;O=A(g-o,t=v.length+1,0==o),l(g/t)>s-w&&d("overflow"),w+=l(g/t),g%=t,v.splice(g++,0,w)}return b(v)}function E(e){var t,r,n,a,o,i,h,c,p,f,v,y,b,O,E,x=[];for(y=(e=g(e)).length,t=128,r=0,o=72,i=0;i<y;++i)(v=e[i])<128&&x.push(m(v));for(n=a=x.length,a&&x.push("-");n<y;){for(h=s,i=0;i<y;++i)(v=e[i])>=t&&v<h&&(h=v);for(h-t>l((s-r)/(b=n+1))&&d("overflow"),r+=(h-t)*b,t=h,i=0;i<y;++i)if((v=e[i])<t&&++r>s&&d("overflow"),v==t){for(c=r,p=u;!(c<(f=p<=o?1:p>=o+26?26:p-o));p+=u)E=c-f,O=u-f,x.push(m(w(f+E%O,0))),c=l(E/O);x.push(m(w(c,0))),o=A(r,b,n==a),r=0,++n}++r,++t}return x.join("")}i={version:"1.3.2",ucs2:{decode:g,encode:b},decode:O,encode:E,toASCII:function(e){return y(e,(function(e){return c.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return y(e,(function(e){return h.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},883:(e,t,r)=>{"use strict";var n=r(639),a=r(225);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return a.isString(e)&&(e=b(e)),e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,h=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(h),p=["%","/","?",";","#"].concat(c),f=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=r(642);function b(e,t,r){if(e&&a.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",h=e.split(s);h[0]=h[0].replace(/\\/g,"/");var b=e=h.join(s);if(b=b.trim(),!r&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?g.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=i.exec(b);if(A){var O=(A=A[0]).toLowerCase();this.protocol=O,b=b.substr(A.length)}if(r||A||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===b.substr(0,2);!E||A&&v[A]||(b=b.substr(2),this.slashes=!0)}if(!v[A]&&(E||A&&!y[A])){for(var x,j,_=-1,P=0;P<f.length;P++)-1!==(S=b.indexOf(f[P]))&&(-1===_||S<_)&&(_=S);for(-1!==(j=-1===_?b.lastIndexOf("@"):b.lastIndexOf("@",_))&&(x=b.slice(0,j),b=b.slice(j+1),this.auth=decodeURIComponent(x)),_=-1,P=0;P<p.length;P++){var S;-1!==(S=b.indexOf(p[P]))&&(-1===_||S<_)&&(_=S)}-1===_&&(_=b.length),this.host=b.slice(0,_),b=b.slice(_),this.parseHost(),this.hostname=this.hostname||"";var F="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!F)for(var N=this.hostname.split(/\./),R=(P=0,N.length);P<R;P++){var I=N[P];if(I&&!I.match(l)){for(var T="",$=0,z=I.length;$<z;$++)I.charCodeAt($)>127?T+="x":T+=I[$];if(!T.match(l)){var C=N.slice(0,P),Z=N.slice(P+1),D=I.match(m);D&&(C.push(D[1]),Z.unshift(D[2])),Z.length&&(b="/"+Z.join(".")+b),this.hostname=C.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=n.toASCII(this.hostname));var q=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+q,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!d[O])for(P=0,R=c.length;P<R;P++){var L=c[P];if(-1!==b.indexOf(L)){var M=encodeURIComponent(L);M===L&&(M=escape(L)),b=b.split(L).join(M)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=g.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[O]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){q=this.pathname||"";var J=this.search||"";this.path=q+J}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(i=g.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),h=0;h<u.length;h++){var c=u[h];"protocol"!==c&&(r[c]=e[c])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var p=Object.keys(e),f=0;f<p.length;f++){var l=p[f];r[l]=e[l]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var m=(e.pathname||"").split("/");m.length&&!(e.host=m.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),r.pathname=m.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",g=r.search||"";r.path=d+g}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=w||b||r.host&&e.pathname,O=A,E=r.pathname&&r.pathname.split("/")||[],x=(m=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===E[0]?E[0]=r.host:E.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===m[0]?m[0]=e.host:m.unshift(e.host)),e.host=null),A=A&&(""===m[0]||""===E[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,E=m;else if(m.length)E||(E=[]),E.pop(),E=E.concat(m),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search))return x&&(r.hostname=r.host=E.shift(),(F=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=F.shift(),r.host=r.hostname=F.shift())),r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var j=E.slice(-1)[0],_=(r.host||e.host||E.length>1)&&("."===j||".."===j)||""===j,P=0,S=E.length;S>=0;S--)"."===(j=E[S])?E.splice(S,1):".."===j?(E.splice(S,1),P++):P&&(E.splice(S,1),P--);if(!A&&!O)for(;P--;P)E.unshift("..");!A||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),_&&"/"!==E.join("/").substr(-1)&&E.push("");var F,N=""===E[0]||E[0]&&"/"===E[0].charAt(0);return x&&(r.hostname=r.host=N?"":E.length?E.shift():"",(F=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=F.shift(),r.host=r.hostname=F.shift())),(A=A||r.host&&E.length)&&!N&&E.unshift(""),E.length?r.pathname=E.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},225:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";r.r(n),r.d(n,{createModel:()=>M});var e={};r.r(e),r.d(e,{JsonPatchError:()=>w,_areEquals:()=>N,applyOperation:()=>j,applyPatch:()=>_,applyReducer:()=>P,deepClone:()=>A,getValueByPointer:()=>x,validate:()=>F,validator:()=>S});var t={};r.r(t),r.d(t,{compare:()=>q,generate:()=>Z,observe:()=>C,unobserve:()=>z});var a=r(138),o=r.n(a);const i={id:"/Config",type:"object",required:!0,additionalProperties:!1,properties:{autoplay:{type:"boolean",required:!0},steps:{type:"array",required:!0,minItems:1,items:{type:"object",required:!0,additionalProperties:!1,properties:{title:{type:"string",required:!0,minLength:1},description:{type:"string",required:!0,minLength:1},time:{type:"number",required:!0},operations:{type:"array",required:!0,items:{type:"object",required:!0,additionalProperties:!1,properties:{path:{type:"string",required:!0,minLength:1},op:{type:"string",required:!0,enum:["add","remove","replace","move","copy"]},value:{type:["number","string","boolean","object","array","null"]}},if:{properties:{op:{enum:["add","replace"]}}},then:{required:["value"]}}}}}}}};var s=r(663);var u,h=(u=function(e,t){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},u(e,t)},function(e,t){function r(){this.constructor=e}u(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),c=Object.prototype.hasOwnProperty;function p(e,t){return c.call(e,t)}function f(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);for(var n in t=[],e)p(e,n)&&t.push(n);return t}function l(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function m(e){for(var t,r=0,n=e.length;r<n;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function d(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function v(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function y(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(y(e[t]))return!0}else if("object"==typeof e){var n=f(e),a=n.length;for(t=0;t<a;t++)if(y(e[n[t]]))return!0}return!1}function g(e,t){var r=[e];for(var n in t){var a="object"==typeof t[n]?JSON.stringify(t[n],null,2):t[n];void 0!==a&&r.push(n+": "+a)}return r.join("\n")}var b=function(e){function t(t,r,n,a,o){var i=this.constructor,s=e.call(this,g(t,{name:r,index:n,operation:a,tree:o}))||this;return s.name=r,s.index=n,s.operation=a,s.tree=o,Object.setPrototypeOf(s,i.prototype),s.message=g(t,{name:r,index:n,operation:a,tree:o}),s}return h(t,e),t}(Error),w=b,A=l,O={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var n=e[t];return delete e[t],{newDocument:r,removed:n}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:function(e,t,r){var n=x(r,this.path);n&&(n=l(n));var a=j(r,{op:"remove",path:this.from}).removed;return j(r,{op:"add",path:this.path,value:a}),{newDocument:r,removed:n}},copy:function(e,t,r){var n=x(r,this.from);return j(r,{op:"add",path:this.path,value:l(n)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:N(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},E={add:function(e,t,r){return m(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var n=e[t];return e[t]=this.value,{newDocument:r,removed:n}},move:O.move,copy:O.copy,test:O.test,_get:O._get};function x(e,t){if(""==t)return e;var r={op:"_get",path:t};return j(e,r),r.value}function j(e,t,r,n,a,o){if(void 0===r&&(r=!1),void 0===n&&(n=!0),void 0===a&&(a=!0),void 0===o&&(o=0),r&&("function"==typeof r?r(t,0,e,t.path):S(t,0)),""===t.path){var i={newDocument:e};if("add"===t.op)return i.newDocument=t.value,i;if("replace"===t.op)return i.newDocument=t.value,i.removed=e,i;if("move"===t.op||"copy"===t.op)return i.newDocument=x(e,t.from),"move"===t.op&&(i.removed=e),i;if("test"===t.op){if(i.test=N(e,t.value),!1===i.test)throw new w("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i.newDocument=e,i}if("remove"===t.op)return i.removed=e,i.newDocument=null,i;if("_get"===t.op)return t.value=e,i;if(r)throw new w("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return i}n||(e=l(e));var s=(t.path||"").split("/"),u=e,h=1,c=s.length,p=void 0,f=void 0,d=void 0;for(d="function"==typeof r?r:S;;){if((f=s[h])&&-1!=f.indexOf("~")&&(f=v(f)),a&&"__proto__"==f)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===p&&(void 0===u[f]?p=s.slice(0,h).join("/"):h==c-1&&(p=t.path),void 0!==p&&d(t,0,e,p)),h++,Array.isArray(u)){if("-"===f)f=u.length;else{if(r&&!m(f))throw new w("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);m(f)&&(f=~~f)}if(h>=c){if(r&&"add"===t.op&&f>u.length)throw new w("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);if(!1===(i=E[t.op].call(t,u,f,e)).test)throw new w("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}}else if(h>=c){if(!1===(i=O[t.op].call(t,u,f,e)).test)throw new w("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return i}if(u=u[f],r&&h<c&&(!u||"object"!=typeof u))throw new w("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}function _(e,t,r,n,a){if(void 0===n&&(n=!0),void 0===a&&(a=!0),r&&!Array.isArray(t))throw new w("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=l(e));for(var o=new Array(t.length),i=0,s=t.length;i<s;i++)o[i]=j(e,t[i],r,!0,a,i),e=o[i].newDocument;return o.newDocument=e,o}function P(e,t,r){var n=j(e,t);if(!1===n.test)throw new w("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return n.newDocument}function S(e,t,r,n){if("object"!=typeof e||null===e||Array.isArray(e))throw new w("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!O[e.op])throw new w("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new w("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new w('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new w("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new w("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&y(e.value))throw new w("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var a=e.path.split("/").length,o=n.split("/").length;if(a!==o+1&&a!==o)throw new w("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==n)throw new w("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var i=F([{op:"_get",path:e.from,value:void 0}],r);if(i&&"OPERATION_PATH_UNRESOLVABLE"===i.name)throw new w("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function F(e,t,r){try{if(!Array.isArray(e))throw new w("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)_(l(t),l(e),r||!0);else{r=r||S;for(var n=0;n<e.length;n++)r(e[n],n,t,void 0)}}catch(e){if(e instanceof w)return e;throw e}}function N(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,n,a,o=Array.isArray(e),i=Array.isArray(t);if(o&&i){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!N(e[r],t[r]))return!1;return!0}if(o!=i)return!1;var s=Object.keys(e);if((n=s.length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!t.hasOwnProperty(s[r]))return!1;for(r=n;0!=r--;)if(!N(e[a=s[r]],t[a]))return!1;return!0}return e!=e&&t!=t}var R,I=new WeakMap,T=function(e){this.observers=new Map,this.obj=e},$=function(e,t){this.callback=e,this.observer=t};function z(e,t){t.unobserve()}function C(e,t){var r,n=function(e){return I.get(e)}(e);if(n){var a=function(e,t){return e.observers.get(t)}(n,t);r=a&&a.observer}else n=new T(e),I.set(e,n);if(r)return r;if(r={},n.value=l(e),t){r.callback=t,r.next=null;var o=function(){Z(r)},i=function(){clearTimeout(r.next),r.next=setTimeout(o)};"undefined"!=typeof window&&(window.addEventListener("mouseup",i),window.addEventListener("keyup",i),window.addEventListener("mousedown",i),window.addEventListener("keydown",i),window.addEventListener("change",i))}return r.patches=[],r.object=e,r.unobserve=function(){Z(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(n,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",i),window.removeEventListener("keyup",i),window.removeEventListener("mousedown",i),window.removeEventListener("keydown",i),window.removeEventListener("change",i))},n.observers.set(t,new $(t,r)),r}function Z(e,t){void 0===t&&(t=!1);var r=I.get(e.object);D(r.value,e.object,e.patches,"",t),e.patches.length&&_(r.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function D(e,t,r,n,a){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var o=f(t),i=f(e),s=!1,u=i.length-1;u>=0;u--){var h=e[m=i[u]];if(!p(t,m)||void 0===t[m]&&void 0!==h&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(a&&r.push({op:"test",path:n+"/"+d(m),value:l(h)}),r.push({op:"remove",path:n+"/"+d(m)}),s=!0):(a&&r.push({op:"test",path:n,value:e}),r.push({op:"replace",path:n,value:t}));else{var c=t[m];"object"==typeof h&&null!=h&&"object"==typeof c&&null!=c&&Array.isArray(h)===Array.isArray(c)?D(h,c,r,n+"/"+d(m),a):h!==c&&(a&&r.push({op:"test",path:n+"/"+d(m),value:l(h)}),r.push({op:"replace",path:n+"/"+d(m),value:l(c)}))}}if(s||o.length!=i.length)for(u=0;u<o.length;u++){var m;p(e,m=o[u])||void 0===t[m]||r.push({op:"add",path:n+"/"+d(m),value:l(t[m])})}}}function q(e,t,r){void 0===r&&(r=!1);var n=[];return D(e,t,n,"",r),n}function k(e){switch(e.type){case R.Error:return o()(e);case R.Normal:{const t=o()(e),r=t.step.index;let n=r+1;n>t.config.steps.length-1&&(n=t.config.steps.length-1);let a=null;return n>r&&(a=L(e,!0)),Object.assign(Object.assign({},t),{paused:n===t.config.steps.length-1,inverses:a?t.inverses.concat([a]):t.inverses,step:{index:n,elapsedTime:0}})}}}function L(e,t){const r=e.step.index;if(t){const t=e.config.steps[r].operations;let n=e.params.getState(),a=o()(n);return _(a,t,!1,!0),e.params.setState(a),q(a,n)}if(!t){const t=e.inverses[r];let n=e.params.getState();_(n,t,!1,!0),e.params.setState(n)}return null}Object.assign({},e,t,{JsonPatchError:b,deepClone:l,escapePathComponent:d,unescapePathComponent:v}),function(e){e.Normal="normal",e.Error="error"}(R||(R={}));function M(e){return new class{constructor(e){this.state=function(e){try{const t=function(e){let t;try{t=JSON.parse(e)}catch(e){!function(){throw new Error("The config field must be a valid json object")}()}try{(new s.Validator).validate(t,i,{throwError:!0,throwAll:!0})}catch(e){!function(e){const t=`Validation failed for config, path: "${e.path.join(".")}", property: "${e.property}", message: "${e.message}"`;throw new Error(t)}(e)}return t}(e.config);return{type:R.Normal,params:e,config:t,paused:!t.autoplay,inverses:[],step:{index:0,elapsedTime:0}}}catch(t){return{type:R.Error,params:e,message:t.message}}}(e)}get viewState(){return function(e){switch(e.type){case R.Error:return{error:e.message,previousDisabled:!0,playPauseDisabled:!0,nextDisabled:!0,stepTitle:"",stepDescription:"",paused:!0,progressPercentage:0};case R.Normal:return{error:null,previousDisabled:e.step.index<=0,playPauseDisabled:!1,nextDisabled:e.step.index>=e.config.steps.length-1,stepTitle:e.config.steps[e.step.index].title,stepDescription:e.config.steps[e.step.index].description,paused:e.paused,progressPercentage:e.paused?0:e.step.elapsedTime/e.config.steps[e.step.index].time*100}}}(this.state)}playPause(){this.state=function(e){switch(e.type){case R.Error:return o()(e);case R.Normal:return Object.assign(Object.assign({},o()(e)),{paused:!e.paused})}}(this.state)}previous(){this.state=function(e){switch(e.type){case R.Error:return o()(e);case R.Normal:{const t=o()(e),r=t.step.index;let n=r-1;n<0&&(n=0);const a=Object.assign(Object.assign({},t),{step:{index:n,elapsedTime:0}});return n<r&&L(a,!1),a}}}(this.state)}next(){this.state=k(this.state)}tick(){this.state=function(e){switch(e.type){case R.Error:return o()(e);case R.Normal:{if(e.paused)return o()(e);const t=o()(e),r=Object.assign(Object.assign({},t),{step:Object.assign(Object.assign({},t.step),{elapsedTime:t.step.elapsedTime+10})});return r.step.elapsedTime>=r.config.steps[r.step.index].time?k(r):r}}}(this.state)}}(e)}})(),window.tcrmCore=n})();